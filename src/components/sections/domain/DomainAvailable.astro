---
import Button from '../../ui/Button.astro';
import HeroSection from '../../ui/HeroSection.astro';
import DownArrow from '../../ui/DownArrow.astro';
import Section from '../../ui/Section.astro';
import Title from '../../ui/Title.astro';

interface Props {
	domain: string;
	translations?: {
		hero?: {
			congratulations?: string;
			available?: string;
			price?: string;
			priceAmount?: string;
			dnsFree?: string;
			addToCart?: string;
		};
		whoisInfo?: {
			title?: string;
			sections?: {
				domain?: { title?: string; labels?: { domainName?: string; status?: string }; statusAvailable?: string };
				registrar?: { title?: string; labels?: { registrar?: string; creationDate?: string; expiryDate?: string; lastUpdate?: string } };
				registrant?: { title?: string; labels?: { registrant?: string } };
				contact?: { title?: string; labels?: { admin?: string; tech?: string } };
				nameServers?: { title?: string };
			};
			notAvailable?: string;
			newSearch?: string;
		};
	};
}

const { 
	domain,
	translations = {
		hero: {
			congratulations: "Félicitations!",
			available: "est disponible!",
			price: "1 an à",
			priceAmount: "118.00 MAD",
			dnsFree: "+ DNS Gratuit",
			addToCart: "Ajouter au panier"
		},
		whoisInfo: {
			title: "Informations Whois sur le domaine",
			sections: {
				domain: { title: "Information sur le domaine", labels: { domainName: "Nom de domaine", status: "Statut du domaine" }, statusAvailable: "Disponible" },
				registrar: { title: "Information sur le registraire", labels: { registrar: "Registraire", creationDate: "Date de création", expiryDate: "Date d'expiration", lastUpdate: "Dernière mise à jour" } },
				registrant: { title: "Information sur le titulaire", labels: { registrant: "Titulaire" } },
				contact: { title: "Information sur le contact", labels: { admin: "Contact administratif", tech: "Contact technique" } },
				nameServers: { title: "Serveurs de noms" }
			},
			notAvailable: "N/A",
			newSearch: "Nouvelle recherche"
		}
	}
} = Astro.props;

const t = translations;

---

<!-- Hero Section -->
<HeroSection center={true}>
		<!-- Félicitations! Heading -->
		<h1 class="text-white text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-light mb-2 leading-none">
			{t.hero?.congratulations}
		</h1>
		
		<!-- Domain name in green italic and "est disponible!" -->
		<h2 class="text-white text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-light mb-12 leading-none">
			<em class="text-(--color-primary) italic font-serif">{domain}</em> {t.hero?.available}
		</h2>	

		<!-- Price and Register button -->
		<div class="flex flex-col md:flex-row items-center justify-center gap-4 md:gap-6 mb-8">
			<p class="text-white text-xl md:text-2xl text-center">
				{t.hero?.price} <span class="font-bold">{t.hero?.priceAmount}</span> <br>
				{t.hero?.dnsFree}
			</p>
			<Button variant="ghost" size="lg">
				{t.hero?.addToCart}
			</Button>
		</div>
		
		<!-- Down Arrow Indicator -->
		<DownArrow />
</HeroSection>

<!-- WHOIS Information Section -->
 <!-- extraClasses="pt-30" -->
<Section backgroundColor="bg-white" extraClasses="pt-15 md:pt-30">
		<!-- Section Title -->
		<div class="mb-8">
			<Title>
				{t.whoisInfo?.title}
			</Title>
		</div>

		<div class="space-y-6">
			<!-- Information sur le domaine -->
			<div class="bg-gray-50 rounded-lg overflow-hidden border border-gray-200">
				<div class="bg-white px-6 py-4 border-b border-gray-200">
					<h3 class="text-lg font-semibold text-gray-900">{t.whoisInfo?.sections?.domain?.title}</h3>
				</div>
				<div class="divide-y divide-gray-200">
					<div class="grid grid-cols-1 md:grid-cols-2 px-6 py-4 bg-white">
						<div class="font-medium text-gray-700">{t.whoisInfo?.sections?.domain?.labels?.domainName}</div>
						<div class="text-gray-900">{domain}</div>
					</div>
					<div class="grid grid-cols-1 md:grid-cols-2 px-6 py-4 bg-white">
						<div class="font-medium text-gray-700">{t.whoisInfo?.sections?.domain?.labels?.status}</div>
						<div class="text-gray-900">{t.whoisInfo?.sections?.domain?.statusAvailable}</div>
					</div>
				</div>
			</div>

			<!-- Information sur le registraire -->
			<div class="bg-gray-50 rounded-lg overflow-hidden border border-gray-200">
				<div class="bg-white px-6 py-4 border-b border-gray-200">
					<h3 class="text-lg font-semibold text-gray-900">{t.whoisInfo?.sections?.registrar?.title}</h3>
				</div>
				<div class="divide-y divide-gray-200">
					<div class="grid grid-cols-1 md:grid-cols-2 px-6 py-4 bg-white">
						<div class="font-medium text-gray-700">{t.whoisInfo?.sections?.registrar?.labels?.registrar}</div>
						<div class="text-gray-900">{t.whoisInfo?.notAvailable}</div>
					</div>
					<div class="grid grid-cols-1 md:grid-cols-2 px-6 py-4 bg-white">
						<div class="font-medium text-gray-700">{t.whoisInfo?.sections?.registrar?.labels?.creationDate}</div>
						<div class="text-gray-900">{t.whoisInfo?.notAvailable}</div>
					</div>
					<div class="grid grid-cols-1 md:grid-cols-2 px-6 py-4 bg-white">
						<div class="font-medium text-gray-700">{t.whoisInfo?.sections?.registrar?.labels?.expiryDate}</div>
						<div class="text-gray-900">{t.whoisInfo?.notAvailable}</div>
					</div>
					<div class="grid grid-cols-1 md:grid-cols-2 px-6 py-4 bg-white">
						<div class="font-medium text-gray-700">{t.whoisInfo?.sections?.registrar?.labels?.lastUpdate}</div>
						<div class="text-gray-900">{t.whoisInfo?.notAvailable}</div>
					</div>
				</div>
			</div>

			<!-- Information sur le titulaire -->
			<div class="bg-gray-50 rounded-lg overflow-hidden border border-gray-200">
				<div class="bg-white px-6 py-4 border-b border-gray-200">
					<h3 class="text-lg font-semibold text-gray-900">{t.whoisInfo?.sections?.registrant?.title}</h3>
				</div>
				<div class="divide-y divide-gray-200">
					<div class="grid grid-cols-1 md:grid-cols-2 px-6 py-4 bg-white">
						<div class="font-medium text-gray-700">{t.whoisInfo?.sections?.registrant?.labels?.registrant}</div>
						<div class="text-gray-900">{t.whoisInfo?.notAvailable}</div>
					</div>
				</div>
			</div>

			<!-- Information sur le contact -->
			<div class="bg-gray-50 rounded-lg overflow-hidden border border-gray-200">
				<div class="bg-white px-6 py-4 border-b border-gray-200">
					<h3 class="text-lg font-semibold text-gray-900">{t.whoisInfo?.sections?.contact?.title}</h3>
				</div>
				<div class="divide-y divide-gray-200">
					<div class="grid grid-cols-1 md:grid-cols-2 px-6 py-4 bg-white">
						<div class="font-medium text-gray-700">{t.whoisInfo?.sections?.contact?.labels?.admin}</div>
						<div class="text-gray-900">{t.whoisInfo?.notAvailable}</div>
					</div>
					<div class="grid grid-cols-1 md:grid-cols-2 px-6 py-4 bg-white">
						<div class="font-medium text-gray-700">{t.whoisInfo?.sections?.contact?.labels?.tech}</div>
						<div class="text-gray-900">{t.whoisInfo?.notAvailable}</div>
					</div>
				</div>
			</div>

			<!-- Serveurs de noms -->
			<div class="bg-gray-50 rounded-lg overflow-hidden border border-gray-200">
				<div class="bg-white px-6 py-4 border-b border-gray-200">
					<h3 class="text-lg font-semibold text-gray-900">{t.whoisInfo?.sections?.nameServers?.title}</h3>
				</div>
				<div class="divide-y divide-gray-200">
					<div class="grid grid-cols-1 md:grid-cols-2 px-6 py-4 bg-white">
						<div class="font-medium text-gray-700">{t.whoisInfo?.notAvailable}</div>
						<div class="text-gray-900">{t.whoisInfo?.notAvailable}</div>
					</div>
				</div>
			</div>
		</div>

		<!-- New search button -->
		<div class="mt-12 text-center">
			<a 
				href="/" 
				class="inline-flex items-center gap-3 px-8 py-4 bg-white border-2 border-(--color-primary) text-(--color-primary) font-semibold text-lg rounded-lg hover:bg-(--color-primary) hover:text-white transition-all duration-200 shadow-md hover:shadow-lg"
			>
				<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
				</svg>
				{t.whoisInfo?.newSearch}
			</a>
		</div>
</Section>


