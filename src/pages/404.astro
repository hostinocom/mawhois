---
import Layout from '../layouts/Layout.astro';
import { en404 } from '../config/i18n/en';
import { fr404 } from '../config/i18n/fr';
import Button from '../components/ui/Button.astro';

// Detect locale from pathname
const currentPath = Astro.url.pathname;
const isFrench = currentPath.startsWith('/fr');
const locale = isFrench ? 'fr' : 'en';
const translations = isFrench ? fr404 : en404;

// Get home URL based on locale
const homeUrl = isFrench ? '/fr/' : '/';

const title = `404 - Page not found`;
const description = translations.message;
---

<Layout 
	title={title} 
	description={description} 
	lang={locale}
	canonical_url={Astro.url.href}
	metaRobots={false}
>
	<div class="min-h-screen flex items-center justify-center bg-gray-50 px-6">
		<div class="text-center">
			<!-- 404 Number -->
			<h1 class="text-8xl md:text-9xl font-bold text-(--color-secondary) mb-6">
				404
			</h1>
			
			<!-- Error Message -->
			<p class="text-xl md:text-2xl text-gray-900 mb-8">
				{translations.message}
			</p>
			
			<!-- Return to Home Button -->
			<Button 
				variant="primary"
				size="lg"
			>
            <a href={homeUrl}>
				{translations.buttonText}
            </a>
			</Button>
		</div>
	</div>
</Layout>

